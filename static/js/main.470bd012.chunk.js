(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{29:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(16),c=a.n(o),s=a(7),i=a(4),l=a.n(i),u=a(6),d=a(17),h=a(18),p=a(19),m=a(23),j=a(22),b=(a(29),a(0)),O=function(e){var t=e.onSetQuery,a=e.onGetPictures,n=e.query;return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:a,children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{value:n,onInput:t,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query"})]})})},f=function(e){var t=e.onOpenModal,a=e.pictures;e.onCloseModal;return Object(b.jsx)(b.Fragment,{children:a.map((function(e){var a=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsx)("img",{onClick:t,src:n,alt:o,"data-source":r,className:"ImageGalleryItem-image"})},a)}))})},g=function(e){var t=e.onOpenModal,a=e.pictures;return Object(b.jsx)("ul",{className:"ImageGallery",children:Object(b.jsx)(f,{onOpenModal:t,pictures:a})})},y=function(e){var t=e.modalImg,a=e.onCloseModal,n=e.onCloseEscape;return Object(b.jsx)("div",{className:"Overlay",onClick:a,onKeyDown:n,children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:t,alt:""})})})},v=a(20),x=a.n(v),M=function(){return Object(b.jsx)(x.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},type:"Circles",color:"#00BFFF",height:80,width:80})},S=function(e){var t=e.onLoadPictures;return Object(b.jsx)("button",{onClick:t,className:"Button",children:"Load More"})};var w=function(e){window.scrollTo({top:document.querySelector("."+e).scrollHeight,behavior:"smooth"})},C=a(21),I=a.n(C),k=function(e,t){return I()({method:"GET",url:"https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=".concat(e,"&page=").concat(t,"&per_page=12")})},L=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",page:1,pictures:[],isModalOpen:!1,modalImg:"",isLoad:!1},e.handleCloseWithEscape=function(t){"Escape"===t.code&&e.setState({isModalOpen:!1})},e.handleSetQuery=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleGetPictures=function(){var t=Object(u.a)(l.a.mark((function t(a){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState((function(){return{isLoad:!0}})),n=e.state.query,t.next=5,k(n,1);case 5:r=t.sent,e.setState({pictures:r.data.hits,page:2,isLoad:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleLoadMorePictures=Object(u.a)(l.a.mark((function t(){var a,n,r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.page,r=a.query,t.next=3,k(r,n+1);case 3:o=t.sent,c=o.data.hits,e.setState((function(e){return{pictures:[].concat(Object(s.a)(e.pictures),Object(s.a)(c)),page:e.page+1}})),w("ImageGallery");case 7:case"end":return t.stop()}}),t)}))),e.handleOpenModal=function(t){var a=t.target.dataset.source;e.setState({isModalOpen:!0,modalImg:a})},e.handleCloseModal=function(t){"IMG"!==t.target.nodeName&&e.setState({isModalOpen:!1})},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseWithEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseWithEscape)}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.isModalOpen,n=e.modalImg,r=e.isLoad,o=this.handleSetQuery,c=this.handleGetPictures,s=this.handleOpenModal,i=this.handleCloseModal,l=this.handleLoadMorePictures;return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{onSetQuery:o,onGetPictures:c,query:this.state.query}),Object(b.jsx)(g,{onOpenModal:s,pictures:t}),t.length>0&&Object(b.jsx)(S,{onLoadPictures:l}),r&&Object(b.jsx)(M,{}),a&&Object(b.jsx)(y,{onCloseEscape:this.handleCloseWithEscape,onCloseModal:i,modalImg:n})]})}}]),a}(n.Component);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.470bd012.chunk.js.map